function colorToRGBA(t){var r=document.createElement("canvas");r.width=1,r.height=1;var a=r.getContext("2d");a.rect(0,0,1,1),a.fillStyle=t,a.fill();var n=a.getImageData(0,0,1,1).data;return{r:n[0],g:n[1],b:n[2],a:n[3],toString:function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},toArray:function(){return[this.r,this.g,this.b,this.a]},toInteger:function(){return((255&this.r)<<24)+((255&this.g)<<16)+((255&this.b)<<8)+(255&this.a)}}}function colorToRGB(t){var r=document.createElement("canvas");r.width=1,r.height=1;var a=r.getContext("2d");a.rect(0,0,1,1),a.fillStyle=t,a.fill();var n=a.getImageData(0,0,1,1).data;return{r:n[0],g:n[1],b:n[2],toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"},toArray:function(){return[this.r,this.g,this.b]},toInteger:function(){function t(t){var r=t.toString(16);return 1==r.length&&(r="0"+r),r}var r,a=255&this.r,n=255&this.g,e=255&this.b;return r="0x"+t(a)+t(n)+t(e),parseInt(r,16)}}}function isColorValid(t){if(!t)return!1;var r=document.createElement("div");return r.style.color=t,""!==r.style.color}function rgbaDifference(t,r){return deltaE(rgba2lab(t),rgba2lab(r))}function rgba2lab(t){var r,a,n,e=t.r/t.a,i=t.g/t.a,o=t.b/t.a;return a=(.2126*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.7152*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.0722*(o=.04045<o?Math.pow((o+.055)/1.055,2.4):o/12.92))/1,n=(.0193*e+.1192*i+.9505*o)/1.08883,r=.008856<(r=(.4124*e+.3576*i+.1805*o)/.95047)?Math.pow(r,1/3):7.787*r+16/116,[116*(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116)-16,500*(r-a),200*(a-(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116))]}function deltaE(t,r){var a=t[0]-r[0],n=t[1]-r[1],e=t[2]-r[2],i=Math.sqrt(t[1]*t[1]+t[2]*t[2]),o=i-Math.sqrt(r[1]*r[1]+r[2]*r[2]),h=n*n+e*e-o*o,s=a/1,u=o/(1+.045*i),g=(h=h<0?0:Math.sqrt(h))/(1+.015*i),c=s*s+u*u+g*g;return c<0?0:Math.sqrt(c)}