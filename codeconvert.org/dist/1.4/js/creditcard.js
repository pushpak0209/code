var ccErrorNo=0,ccErrors=new Array;function testCreditCard(){myCardNo=$("#creditCardNumber").val(),myCardType=$("#cardtype").val(),checkCreditCard(myCardNo,myCardType)?($("#hResult").removeClass("hide"),$("#hResult").removeClass(),$("#hResult").addClass("success"),$("#creditCardNumber").css({border:"1px solid #C6D880"}),$("#hResult").text("The Credit Card Number is Valid")):($("#hResult").removeClass("hide"),$("#creditCardNumber").css({border:"1px solid #FBC2C4"}),$("#hResult").removeClass("success"),$("#hResult").addClass("error"),$("#hResult").text(ccErrors[ccErrorNo])),$("#closemsg").show()}function checkCreditCard(r,e){var t=new Array;t[0]={name:"Visa",length:"13,16",prefixes:"4",checkdigit:!0},t[1]={name:"MasterCard",length:"16",prefixes:"51,52,53,54,55",checkdigit:!0},t[2]={name:"DinersClub",length:"14,16",prefixes:"36,38,54,55",checkdigit:!0},t[3]={name:"CarteBlanche",length:"14",prefixes:"300,301,302,303,304,305",checkdigit:!0},t[4]={name:"AmEx",length:"15",prefixes:"34,37",checkdigit:!0},t[5]={name:"Discover",length:"16",prefixes:"6011,622,64,65",checkdigit:!0},t[6]={name:"JCB",length:"16",prefixes:"35",checkdigit:!0},t[7]={name:"enRoute",length:"15",prefixes:"2014,2149",checkdigit:!0},t[8]={name:"Solo",length:"16,18,19",prefixes:"6334,6767",checkdigit:!0},t[9]={name:"Switch",length:"16,18,19",prefixes:"4903,4905,4911,4936,564182,633110,6333,6759",checkdigit:!0},t[10]={name:"Maestro",length:"12,13,14,15,16,18,19",prefixes:"5018,5020,5038,6304,6759,6761,6762,6763",checkdigit:!0},t[11]={name:"VisaElectron",length:"16",prefixes:"4026,417500,4508,4844,4913,4917",checkdigit:!0},t[12]={name:"LaserCard",length:"16,17,18,19",prefixes:"6304,6706,6771,6709",checkdigit:!0};for(var i=-1,c=0;c<t.length;c++)if(e.toLowerCase()==t[c].name.toLowerCase()){console.log(e.toLowerCase()),i=c,console.log(i);break}if(-1==i)return ccErrorNo=0,!1;if(0==r.length)return!(ccErrorNo=1);var a=r=r.replace(/\s/g,"");if(!/^[0-9]{13,19}$/.exec(a))return!(ccErrorNo=2);if(t[i].checkdigit){var n,s=0,d=1;for(c=a.length-1;0<=c;c--)9<(n=Number(a.charAt(c))*d)&&(s+=1,n-=10),s+=n,d=1==d?2:1;if(s%10!=0)return!(ccErrorNo=3)}if("5490997771092064"==a)return!(ccErrorNo=5);var o=!1,x=!1,m=new Array,f=new Array;for(m=t[i].prefixes.split(","),c=0;c<m.length;c++){new RegExp("^"+m[c]).test(a)&&(x=!0)}if(!x)return!(ccErrorNo=3);for(f=t[i].length.split(","),d=0;d<f.length;d++)a.length==f[d]&&(o=!0);return!!o||!(ccErrorNo=4)}function strrev(r){if(!r)return"";var e="";for(i=r.length-1;0<=i;i--)e+=r.charAt(i);return e}function completed_number(r,e){for(var t=r;t.length<e-1;)t+=Math.floor(10*Math.random());for(var i=strrev(t),c=new Array,a=0;a<i.length;a++)c[a]=parseInt(i.charAt(a));for(var n=0,s=0;s<e-1;)odd=2*c[s],9<odd&&(odd-=9),n+=odd,s!=e-2&&(n+=c[s+1]),s+=2;return t+=(10*(Math.floor(n/10)+1)-n)%10}function credit_card_number(r,e){return completed_number(r[Math.floor(Math.random()*r.length)],e)}ccErrors[0]="Unknown card type",ccErrors[1]="No card number provided",ccErrors[2]="Credit card number is in invalid format",ccErrors[3]="Credit card number is invalid",ccErrors[4]="Credit card number has an inappropriate number of digits",ccErrors[5]="Warning! This credit card number is associated with a scam attempt";var visaPrefixList=new Array("4539","4556","4916","4532","4929","40240071","4485","4716","4"),mastercardPrefixList=new Array("51","52","53","54","55"),amexPrefixList=new Array("34","37"),discoverPrefixList=new Array("6011"),dinersPrefixList=new Array("300","301","302","303","36","38"),enRoutePrefixList=new Array("2014","2149"),jcbPrefixList=new Array("3088","3096","3112","3158","3337","3528"),voyagerPrefixList=new Array("8699"),dinersNorthAmericaPrefixList=new Array("54","55"),dinersCarteBlanchePrefixList=new Array("300","301","302","303","304","305"),dinersInternationalPrefixList=new Array("36"),laserPrefixList=new Array("6304","6706","6771","6709"),visaElectronPrefixList=new Array("4026","417500","4508","4844","4913","4917"),maestroPrefixList=new Array("5018","5020","5038","5893","6304","6759","6761","6762","6763","0604"),instaPaymentPrefixList=new Array("637","638","639");function clearCreditcard(){$("#creditCardNumber").val(""),$("#hResult").hide()}function closeMsg_Credit_Card_Validator(){$("#hResult").hide(),$("#closemsg").hide()}$(document).ready(function(){$("#visa1").text(credit_card_number(visaPrefixList,16,1)),$("#visa2").text(credit_card_number(visaPrefixList,16,1)),$("#visa3").text(credit_card_number(visaPrefixList,16,1)),$("#mc1").text(credit_card_number(mastercardPrefixList,16,1)),$("#mc2").text(credit_card_number(mastercardPrefixList,16,1)),$("#mc3").text(credit_card_number(mastercardPrefixList,16,1)),$("#amex1").text(credit_card_number(amexPrefixList,15,1)),$("#amex2").text(credit_card_number(amexPrefixList,15,1)),$("#amex3").text(credit_card_number(amexPrefixList,15,1)),$("#disc1").text(credit_card_number(discoverPrefixList,16,1)),$("#disc2").text(credit_card_number(discoverPrefixList,16,1)),$("#disc3").text(credit_card_number(discoverPrefixList,16,1)),$("#jcb1").text(credit_card_number(jcbPrefixList,16,1)),$("#jcb2").text(credit_card_number(jcbPrefixList,16,1)),$("#jcb3").text(credit_card_number(jcbPrefixList,16,1)),$("#dcna1").text(credit_card_number(dinersNorthAmericaPrefixList,16,1)),$("#dcna2").text(credit_card_number(dinersNorthAmericaPrefixList,16,1)),$("#dcna3").text(credit_card_number(dinersNorthAmericaPrefixList,16,1)),$("#dccb1").text(credit_card_number(dinersCarteBlanchePrefixList,14,1)),$("#dccb2").text(credit_card_number(dinersCarteBlanchePrefixList,14,1)),$("#dccb3").text(credit_card_number(dinersCarteBlanchePrefixList,14,1)),$("#dcin1").text(credit_card_number(dinersInternationalPrefixList,14,1)),$("#dcin2").text(credit_card_number(dinersInternationalPrefixList,14,1)),$("#dcin3").text(credit_card_number(dinersInternationalPrefixList,14,1)),$("#laser1").text(credit_card_number(laserPrefixList,16,1)),$("#laser2").text(credit_card_number(laserPrefixList,16,1)),$("#laser3").text(credit_card_number(laserPrefixList,16,1)),$("#elec1").text(credit_card_number(visaElectronPrefixList,16,1)),$("#elec2").text(credit_card_number(visaElectronPrefixList,16,1)),$("#elec3").text(credit_card_number(visaElectronPrefixList,16,1)),$("#maes1").text(credit_card_number(maestroPrefixList,16,1)),$("#maes2").text(credit_card_number(maestroPrefixList,16,1)),$("#maes3").text(credit_card_number(maestroPrefixList,16,1)),$("#ip1").text(credit_card_number(instaPaymentPrefixList,16,1)),$("#ip2").text(credit_card_number(instaPaymentPrefixList,16,1)),$("#ip3").text(credit_card_number(instaPaymentPrefixList,16,1))});