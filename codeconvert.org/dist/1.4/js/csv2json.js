function CSVToArray(r,e){e=e||",";for(var n=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),g=[[]],a=null;a=n.exec(r);){var l=a[1];if(l.length&&l!=e&&g.push([]),a[2])var t=a[2].replace(new RegExp('""',"g"),'"');else t=a[3];g[g.length-1].push(t)}return g}function CSV2JSON(r){for(var e=CSVToArray(r),n=[],g=1;g<e.length;g++){n[g-1]={};for(var a=0;a<e[0].length&&a<e[g].length;a++){var l=e[0][a];n[g-1][l]=e[g][a]}}return JSON.stringify(n).replace(/},/g,"},\r\n")}