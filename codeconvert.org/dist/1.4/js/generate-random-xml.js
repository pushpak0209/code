window.bridges["generate-random-xml"]=function(){function w(e,t){var n,r,a,o,i,s=(n=-1,r=t.childNodes.length+1,n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n);a=e,o=t,(i=s)<0?o.parentNode.insertBefore(a,o):i>o.childNodes.length?o.parentNode.insertBefore(a,o.nextSibling):o.insertBefore(a,o.childNodes[i])}function M(e){return Math.random()<=e}function b(){for(var e=[WordDictionary.random()];M(.75);)e.push(WordDictionary.random());return e.join(" ")}return{converter:function(){var e=this.options.get(),t=+e.depth,n=+e["max-elements"],r=e["english-strings"],a=(e["random-strings"],+e["max-string-length"]),o=e["always-max-elements"];if(r)var i="english";else i="random";if(isNaN(t))return this.output.showNegativeBadge("Can't generate","Depth is not a valid number."),"";if(isNaN(n))return this.output.showNegativeBadge("Can't generate","Elements per depth level is not a valid number."),"";if(t<0)return this.output.showNegativeBadge("Can't generate","Depth is negative."),"";if(n<0)return this.output.showNegativeBadge("Can't generate","Elements per depth level is negative."),"";if("string"==i){if(isNaN(a))return this.output.showNegativeBadge("Can't generate","Max string length is not a number."),"";if(a<0)return this.output.showNegativeBadge("Can't generate","Max string length is negative."),""}var s=new RandomJsonGenerator({maxDepth:t,satisfyDepth:o,elementsPerBranch:n,stringType:i,possibleElements:["strings","numbers","objects"],randomKeyAlphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_-abcdefghijklmnopqrstuvwxyz",randomKeyRestrictions:["alpha-or-underscore-first","length-one-plus"],maxStringLength:a}),g=null;e["formatting-none"]?g=!1:e["formatting-tabs"]?g="\t":e["formatting-spaces"]&&(g="  ");var l=s.generate();0==t&&(l={},this.output.showWarningBadge("No depth","Depth of zero can only generate the root element."));var d=json2xml(l),h=null,m=e["xml-root"];if(m){if(!/^[a-z_:][a-z0-9.\-_]*$/gi.test(m))return this.output.showNegativeBadge("Invalid wrapper tag",'"'+m+'" does not match XML standarts.'),""}else this.output.showWarningBadge("Wrapper tag not specified","Using <root> instead."),m="root";d="<"+m+">"+d+"</"+m+">",window.DOMParser?h=(new DOMParser).parseFromString(d,"text/xml"):((h=new ActiveXObject("Microsoft.XMLDOM")).async=!1,h.loadXML(d));for(var u=h.documentElement,p=u.querySelectorAll("*"),c=0;c<p.length;c++){var f=p[c];if(e["xml-attributes"]&&M(.5)){var v=WordDictionary.random(),x=WordDictionary.random();f.setAttribute(v,x)}e["xml-cdata"]&&M(.25)&&w(h.createCDATASection(b()),f),e["xml-comments"]&&M(.25)&&w(h.createComment(b()),f)}var N=u.outerHTML;return e["xml-meta"]&&(N='<?xml version="1.0" encoding="UTF-8" ?>'+N),g?vkbeautify.xml(N,g):N},config:{}}};