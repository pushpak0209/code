!function(a){"use strict";"object"==typeof process&&process.versions&&process.versions.node&&(a=global);var h,t=!a.JS_MD4_TEST&&"object"==typeof module&&module.exports,i="function"==typeof define&&define.amd,o=!a.JS_MD4_TEST&&"undefined"!=typeof ArrayBuffer,e="0123456789abcdef".split(""),s=[128,32768,8388608,-2147483648],u=[0,8,16,24],r=["hex","array","digest","buffer"],n=[];if(o){var f=new ArrayBuffer(68);h=new Uint8Array(f),n=new Uint32Array(f)}var c=function(i){return function(t){return new d(!0).update(t)[i]()}};function d(t){if(t)n[0]=n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0,this.blocks=n,this.buffer8=h;else if(o){var i=new ArrayBuffer(68);this.buffer8=new Uint8Array(i),this.blocks=new Uint32Array(i)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}d.prototype.update=function(t){if(!this.finalized){var i="string"!=typeof t;i&&t.constructor==a.ArrayBuffer&&(t=new Uint8Array(t));for(var h,s,e=0,r=t.length||0,n=this.blocks,f=this.buffer8;e<r;){if(this.hashed&&(this.hashed=!1,n[0]=n[16],n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),i)if(o)for(s=this.start;e<r&&s<64;++e)f[s++]=t[e];else for(s=this.start;e<r&&s<64;++e)n[s>>2]|=t[e]<<u[3&s++];else if(o)for(s=this.start;e<r&&s<64;++e)(h=t.charCodeAt(e))<128?f[s++]=h:(h<2048?f[s++]=192|h>>6:(h<55296||57344<=h?f[s++]=224|h>>12:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++e)),f[s++]=240|h>>18,f[s++]=128|h>>12&63),f[s++]=128|h>>6&63),f[s++]=128|63&h);else for(s=this.start;e<r&&s<64;++e)(h=t.charCodeAt(e))<128?n[s>>2]|=h<<u[3&s++]:(h<2048?n[s>>2]|=(192|h>>6)<<u[3&s++]:(h<55296||57344<=h?n[s>>2]|=(224|h>>12)<<u[3&s++]:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++e)),n[s>>2]|=(240|h>>18)<<u[3&s++],n[s>>2]|=(128|h>>12&63)<<u[3&s++]),n[s>>2]|=(128|h>>6&63)<<u[3&s++]),n[s>>2]|=(128|63&h)<<u[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,64<=s?(this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this}},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,i=this.lastByteIndex;t[i>>2]|=s[3&i],56<=i&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,this.hash()}},d.prototype.hash=function(){var t,i,h,s,e,r,n,f,a=this.blocks;this.first?i=(i=((h=(h=((s=(s=(4023233417&(t=(t=a[0]-1)<<3|t>>>29)|2562383102&~t)+a[1]+271733878)<<7|s>>>25)&t|4023233417&~s)+a[2]-1732584194)<<11|h>>>21)&s|~h&t)+a[3]-271733879)<<19|i>>>13:(t=this.h0,i=this.h1,h=this.h2,s=this.h3,i=(i+=((h=(h+=((s=(s+=((t=(t+=(i&h|~i&s)+a[0])<<3|t>>>29)&i|~t&h)+a[1])<<7|s>>>25)&t|~s&i)+a[2])<<11|h>>>21)&s|~h&t)+a[3])<<19|i>>>13),i=(i+=((h=(h+=((s=(s+=((t=(t+=(i&h|~i&s)+a[4])<<3|t>>>29)&i|~t&h)+a[5])<<7|s>>>25)&t|~s&i)+a[6])<<11|h>>>21)&s|~h&t)+a[7])<<19|i>>>13,i=(i+=((h=(h+=((s=(s+=((t=(t+=(i&h|~i&s)+a[8])<<3|t>>>29)&i|~t&h)+a[9])<<7|s>>>25)&t|~s&i)+a[10])<<11|h>>>21)&s|~h&t)+a[11])<<19|i>>>13,i=(i+=((h=(h+=((s=(s+=((t=(t+=(i&h|~i&s)+a[12])<<3|t>>>29)&i|~t&h)+a[13])<<7|s>>>25)&t|~s&i)+a[14])<<11|h>>>21)&s|~h&t)+a[15])<<19|i>>>13,i=(i+=((n=(h=(h+=((f=(s=(s+=((e=(t=(t+=((r=i&h)|i&s|h&s)+a[0]+1518500249)<<3|t>>>29)&i)|t&h|r)+a[4]+1518500249)<<5|s>>>27)&t)|s&i|e)+a[8]+1518500249)<<9|h>>>23)&s)|h&t|f)+a[12]+1518500249)<<13|i>>>19,i=(i+=((n=(h=(h+=((f=(s=(s+=((e=(t=(t+=((r=i&h)|i&s|n)+a[1]+1518500249)<<3|t>>>29)&i)|t&h|r)+a[5]+1518500249)<<5|s>>>27)&t)|s&i|e)+a[9]+1518500249)<<9|h>>>23)&s)|h&t|f)+a[13]+1518500249)<<13|i>>>19,i=(i+=((n=(h=(h+=((f=(s=(s+=((e=(t=(t+=((r=i&h)|i&s|n)+a[2]+1518500249)<<3|t>>>29)&i)|t&h|r)+a[6]+1518500249)<<5|s>>>27)&t)|s&i|e)+a[10]+1518500249)<<9|h>>>23)&s)|h&t|f)+a[14]+1518500249)<<13|i>>>19,i=(i+=((h=(h+=((f=(s=(s+=((e=(t=(t+=((r=i&h)|i&s|n)+a[3]+1518500249)<<3|t>>>29)&i)|t&h|r)+a[7]+1518500249)<<5|s>>>27)&t)|s&i|e)+a[11]+1518500249)<<9|h>>>23)&s|h&t|f)+a[15]+1518500249)<<13|i>>>19,i=(i+=((f=(s=(s+=((r=i^h)^(t=(t+=(r^s)+a[0]+1859775393)<<3|t>>>29))+a[8]+1859775393)<<9|s>>>23)^t)^(h=(h+=(f^i)+a[4]+1859775393)<<11|h>>>21))+a[12]+1859775393)<<15|i>>>17,i=(i+=((f=(s=(s+=((r=i^h)^(t=(t+=(r^s)+a[2]+1859775393)<<3|t>>>29))+a[10]+1859775393)<<9|s>>>23)^t)^(h=(h+=(f^i)+a[6]+1859775393)<<11|h>>>21))+a[14]+1859775393)<<15|i>>>17,i=(i+=((f=(s=(s+=((r=i^h)^(t=(t+=(r^s)+a[1]+1859775393)<<3|t>>>29))+a[9]+1859775393)<<9|s>>>23)^t)^(h=(h+=(f^i)+a[5]+1859775393)<<11|h>>>21))+a[13]+1859775393)<<15|i>>>17,i=(i+=((f=(s=(s+=((r=i^h)^(t=(t+=(r^s)+a[3]+1859775393)<<3|t>>>29))+a[11]+1859775393)<<9|s>>>23)^t)^(h=(h+=(f^i)+a[7]+1859775393)<<11|h>>>21))+a[15]+1859775393)<<15|i>>>17,this.first?(this.h0=t+1732584193<<0,this.h1=i-271733879<<0,this.h2=h-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+i<<0,this.h2=this.h2+h<<0,this.h3=this.h3+s<<0)},d.prototype.toString=d.prototype.hex=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,s=this.h3;return e[t>>4&15]+e[15&t]+e[t>>12&15]+e[t>>8&15]+e[t>>20&15]+e[t>>16&15]+e[t>>28&15]+e[t>>24&15]+e[i>>4&15]+e[15&i]+e[i>>12&15]+e[i>>8&15]+e[i>>20&15]+e[i>>16&15]+e[i>>28&15]+e[i>>24&15]+e[h>>4&15]+e[15&h]+e[h>>12&15]+e[h>>8&15]+e[h>>20&15]+e[h>>16&15]+e[h>>28&15]+e[h>>24&15]+e[s>>4&15]+e[15&s]+e[s>>12&15]+e[s>>8&15]+e[s>>20&15]+e[s>>16&15]+e[s>>28&15]+e[s>>24&15]},d.prototype.array=d.prototype.digest=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,s=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,255&h,h>>8&255,h>>16&255,h>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255]},d.prototype.buffer=function(){this.finalize();var t=new ArrayBuffer(16),i=new Uint32Array(t);return i[0]=this.h0,i[1]=this.h1,i[2]=this.h2,i[3]=this.h3,t};var p=function(){var i=c("hex");i.create=function(){return new d},i.update=function(t){return i.create().update(t)};for(var t=0;t<r.length;++t){var h=r[t];i[h]=c(h)}return i}();t?module.exports=p:(a.md4=p,i&&define(function(){return p}))}(this);