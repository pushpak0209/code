!function(p){p.fn.openWeather=function(t){if(!this.length)return this;var e,o=this,m=p(this);o.settings={},o.settings=p.extend({},{descriptionTarget:null,maxTemperatureTarget:null,minTemperatureTarget:null,windSpeedTarget:null,humidityTarget:null,sunriseTarget:null,sunsetTarget:null,placeTarget:null,iconTarget:null,customIcons:null,units:"c",city:null,lat:null,lng:null,key:null,success:function(){},error:function(t){}},t),null!=o.settings.city?e="http://api.openweathermap.org/data/2.5/weather?q="+o.settings.city.replace(" ",""):null!=o.settings.lat&&null!=o.settings.lng&&(e="http://api.openweathermap.org/data/2.5/weather?lat="+o.settings.lat+"&lon="+o.settings.lng),null!=o.settings.key&&(e+="&APPID="+o.settings.key);var c=function(t){var e=new Date(1e3*t),n=e.getHours();12<n&&(hoursRemaining=24-n,n=12-hoursRemaining);var s=e.getMinutes();return(s=s.toString()).length<2&&(s=0+s),n+":"+s};p.ajax({type:"GET",url:e,dataType:"jsonp",success:function(t){if("f"==o.settings.units)var e=Math.round(1.8*(t.main.temp-273.15)+32)+"°F",n=Math.round(1.8*(t.main.temp_min-273.15)+32)+"°F",s=Math.round(1.8*(t.main.temp_max-273.15)+32)+"°F";else e=Math.round(t.main.temp-273.15)+"°C",n=Math.round(t.main.temp_min-273.15)+"°C",s=Math.round(t.main.temp_max-273.15)+"°C";if(m.html(e),null!=o.settings.minTemperatureTarget&&p(o.settings.minTemperatureTarget).text(n),null!=o.settings.maxTemperatureTarget&&p(o.settings.maxTemperatureTarget).text(s),p(o.settings.descriptionTarget).text(t.weather[0].description),null!=o.settings.iconTarget&&null!=t.weather[0].icon){if(null!=o.settings.customIcons){var i,a,r=t.weather[0].icon;a=-1!=r.indexOf("d")?"day":"night","01d"!=r&&"01n"!=r||(i="clear"),"02d"!=r&&"02n"!=r&&"03d"!=r&&"03n"!=r&&"04d"!=r&&"04n"!=r||(i="clouds"),"09d"!=r&&"09n"!=r&&"10d"!=r&&"10n"!=r||(i="rain"),"11d"!=r&&"11n"!=r||(i="storm"),"13d"!=r&&"13n"!=r||(i="snow"),"50d"!=r&&"50n"!=r||(i="mist");var l="/img/icons/weather/"+a+"/"+i+".png";alert}else l="http://openweathermap.org/img/w/"+t.weather[0].icon+".png";p(o.settings.iconTarget).attr("src",l)}if(null!=o.settings.placeTarget&&p(o.settings.placeTarget).text(t.name+", "+t.sys.country),null!=o.settings.windSpeedTarget&&p(o.settings.windSpeedTarget).text(Math.round(t.wind.speed)+" Mph"),null!=o.settings.humidityTarget&&p(o.settings.humidityTarget).text(t.main.humidity+"%"),null!=o.settings.sunriseTarget){var u=c(t.sys.sunrise);p(o.settings.sunriseTarget).text(u+" AM")}if(null!=o.settings.sunsetTarget){var g=c(t.sys.sunset);p(o.settings.sunsetTarget).text(g+" PM")}o.settings.success.call(this)},error:function(t,e,n){o.settings.error.call(this,e)}})}}(jQuery);