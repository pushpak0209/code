var RandomJsonGenerator=function(e){if(!(this instanceof RandomJsonGenerator))return new RandomJsonGenerator(e);var l=this;function h(e,r){if("random"==l.stringType){var n=parseInt(Math.random()*(l.maxStringLength+1));0==n&&0<=r.indexOf("length-one-plus")&&(n=1);for(var t="",a=0;a<n;a++){var s=o(e);if(0==a&&0<=r.indexOf("alpha-or-underscore-first"))for(;!/^[a-zA-Z_]$/.test(s);)s=o(e);t+=s}return t}return WordDictionary.random()}function o(e){return e[parseInt(Math.random()*e.length)]}function d(e){var r=o(e);if("booleans"==r)return{type:"boolean",val:o([!0,!1])};if("numbers"==r){var n=o([!0,!1]),t=o([!0,!1]),a=2147483648*Math.random();return n&&(a=parseInt(a)),t&&(a=-a),{type:"number",val:a}}return"strings"==r?{type:"string",val:function(e){if("random"==l.stringType){for(var r=parseInt(Math.random()*(l.maxStringLength+1)),n="",t=0;t<r;t++)n+=o(e);return n}return WordDictionary.random()}(l.randomStringAlphabet)}:"arrays"==r?{type:"array",val:[]}:"objects"==r?{type:"object",val:{}}:void 0}return l.possibleElements=e.possibleElements,l.maxDepth=e.maxDepth,l.elementsPerBranch=e.elementsPerBranch,l.stringType=e.stringType,l.maxStringLength=e.maxStringLength,l.satisfyDepth=e.satisfyDepth,l.randomStringAlphabet=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",l.randomKeyAlphabet=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",l.randomKeyRestrictions=[],e.randomStringAlphabet&&(l.randomStringAlphabet=e.randomStringAlphabet),e.randomKeyAlphabet&&(l.randomKeyAlphabet=e.randomKeyAlphabet),e.randomKeyRestrictions&&(l.randomKeyRestrictions=e.randomKeyRestrictions),l.generate=function(){return startingChoices=[],0<=l.possibleElements.indexOf("objects")&&startingChoices.push({}),0<=l.possibleElements.indexOf("arrays")&&startingChoices.push([]),function e(r,n,t,a){if(a)var s=n;else var s=parseInt(Math.random()*n);if(0==t){var o=l.possibleElements;return["arrays","objects"].forEach(function(e){var r=o.indexOf(e);0<=r&&o.splice(r,1)}),d(o).val}for(;s;){var i=d(l.possibleElements);if("array"==i.type||"object"==i.type)var m=e(i.val,n,t-1,a);else var m=i.val;if(r instanceof Array)r.push(m);else if("object"==typeof r){var p=h(l.randomKeyAlphabet,l.randomKeyRestrictions);r[p]=m}s--}return r}(o(startingChoices),l.elementsPerBranch,l.maxDepth,l.satisfyDepth)},l};